<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Image Gallery & Uploader</title>
   <link rel="stylesheet" type="text/css" href="styles.css">

</head>
<body>
  <header>
    <div class="container" style="padding-bottom: 10px;">
      <div style="display:flex; align-items:center; justify-content:space-between; gap: 12px; flex-wrap:wrap;">
        <div style="display:flex; align-items:center; gap: 10px;">
          <div class="pill">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 12C3 7.029 7.029 3 12 3s9 4.029 9 9-4.029 9-9 9-9-4.029-9-9Z" stroke="currentColor" stroke-width="1.5"/><path d="M7 13.5 10 16.5 17 9.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            Image Gallery & Uploader
          </div>
        </div>
        <div class="actions">
          <button id="refreshBtn" title="Reload images">Reload</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="row">
      <!-- Gallery -->
      <section class="card" aria-labelledby="gallery-title">
        <div class="head">
          <h2 id="gallery-title">Gallery</h2>
          <div id="loadState" class="notice" aria-live="polite"></div>
        </div>
        <div class="body">
          <div id="gallery" class="grid" role="list"></div>
          <div id="emptyState" class="empty" style="display:none">No images found.</div>
        </div>
      </section>

      <!-- Uploader -->
      <section class="card" aria-labelledby="uploader-title">
        <div class="head"><h2 id="uploader-title">Upload</h2></div>
        <div class="body">
          <form id="uploadForm" class="form" autocomplete="off">
            <div class="field">
              <label for="userID">User ID</label>
              <input id="userID" name="userID" type="text" placeholder="e.g., 12345" required />
            </div>
            <div class="field">
              <label for="userName">User Name</label>
              <input id="userName" name="userName" type="text" placeholder="e.g., Jane Doe" required />
            </div>

            <div class="field">
              <label for="fileInput">Choose image</label>
              <div id="dropzone" class="dropzone" tabindex="0">Drop image here or click to choose</div>
              <input id="fileInput" name="file" type="file" accept="image/*" style="display:none" />
              <div class="notice" id="fileName">No file selected</div>
            </div>

            <div class="field">
              <label for="filename">Filename (optional â€” defaults to the selected file name)</label>
              <input id="filename" name="filename" type="text" placeholder="my-photo.jpg" />
            </div>

            <div class="field">
              <div class="progress" aria-label="Upload progress" aria-live="polite"><div id="progressBar" class="bar"></div></div>
              <div class="notice" id="status"></div>
              <div class="error" id="error"></div>
            </div>

            <div class="actions">
              <button type="submit">Upload</button>
              <button type="button" class="btn btn-secondary" id="resetBtn">Reset</button>
            </div>
          </form>
          <p class="notice" style="margin-top:10px">
            Heads up: these endpoints must allow browser requests (CORS). If you see network errors, your Logic App may need CORS enabled.
          </p>
        </div>
      </section>
    </div>

    <footer>
      Powered by plain HTML, CSS & JavaScript. Endpoints are configurable in the script.
    </footer>
  </main>

  <script src="app.js"></script>
</body>

</html>
